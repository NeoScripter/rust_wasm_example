<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Rust and JavaScript Example</title>
    <style>
        .wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
        }

        .subwrapper {
            display: flex;
            flex-direction: column;
            justify-content: space-evenly;
            align-items: center;
        }
    </style>
    <script type="module">
        import init, { exclude_lines, separate_lines } from './pkg/rust_wasm_example.js';
        async function run() {
            await init();
            document.getElementById('excludeLinesBtn').addEventListener('click', () => {
                let usersText = document.getElementById('userMessage').value;
                const wordToExclude = document.getElementById('exludedWord').value;
                usersText = exclude_lines(usersText, wordToExclude);
                document.getElementById('outputText1').value = usersText; 
            });

            document.getElementById('separateLinesBtn').addEventListener('click', () => {
                let initialText = document.getElementById('textToBreak').value;
                const wordToExclude = document.getElementById('separator').value;
                initialText = separate_lines(initialText, wordToExclude);
                document.getElementById('outputText2').value = initialText; 
            });
        }
        window.onload = run;
    </script>
</head>
<body>
    <div class="wrapper">
        <div class="sorter-wrapper subwrapper">
            <h1>Line Sorter</h1>
            <label for="userMessage">Your text:</label>
            <textarea id="userMessage" name="userMessage" rows="14" cols="70"></textarea>
            <br>
            <label for="exludedWord">The lines containing this word will be excluded from your text:</label>
            <br>
            <input type="text" id="exludedWord" name="exludedWord">
            <br>
            <button id="excludeLinesBtn">Run</button>
            <br>
            <label for="outputText1">Result:</label>
            <br>
            <textarea id="outputText1" name="outputText1" rows="12" cols="70" readonly></textarea>
        </div>
        <div class="separator-wrapper subwrapper">
            <h1>Line Separator</h1>
            <label for="textToBreak">Your text:</label>
            <textarea id="textToBreak" name="textToBreak" rows="14" cols="70"></textarea>
            <br>
            <label for="separator">A new line will be added after the word that you specify:</label>
            <br>
            <input type="text" id="separator" name="separator">
            <br>
            <button id="separateLinesBtn">Run</button>
            <br>
            <label for="outputText2">Result:</label>
            <br>
            <textarea id="outputText2" name="outputText2" rows="12" cols="70" readonly></textarea>
        </div>
    </div>
</body>
</html>
